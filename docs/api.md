## API Документация

Базовый URL (по умолчанию): `http://localhost:3010`

Все ответы возвращаются в формате JSON. Поле времени `timestamp` всегда в UTC и имеет формат `YYYY-MM-DDTHH:MM:SSZ` (RFC3339 без миллисекунд).

Поддерживаемые валюты в объектах котировок: `btc`, `usd`, `eur`, `cny`, `jpy`, `krw`, `eth`, `gbp`.

---

### Здоровье сервиса

- **Метод**: GET
- **Путь**: `/health`

Пример запроса:

```bash
curl -s http://localhost:3010/health
```

Пример ответа 200:

```json
{
  "status": "ok",
  "service": "quotes"
}
```

---

### Получить список котировок

- **Метод**: GET
- **Путь**: `/quotes`

Параметры query:
- **from**: начало интервала времени (RFC3339), например `2025-01-01T00:00:00Z`. По умолчанию: сейчас минус 24 часа.
- **to**: конец интервала времени (RFC3339). По умолчанию: сейчас.
- **limit**: положительное целое число — ограничение количества записей. По умолчанию: без ограничения (0).

Правила валидации:
- Формат `from`/`to` должен быть RFC3339 (пример: `2025-01-01T00:00:00Z`).
- `limit` — положительное целое (`> 0`).
- `from` должен быть не позже `to`.

Пример (по умолчанию, за последние 24 часа):

```bash
curl -s "http://localhost:3010/quotes"
```

Пример с ограничением количества:

```bash
curl -s "http://localhost:3010/quotes?limit=5"
```

Пример с интервалом времени:

```bash
curl -s "http://localhost:3010/quotes?from=2025-10-09T00:00:00Z&to=2025-10-10T00:00:00Z"
```

Пример ответа 200 (массив котировок):

```json
[
  {
    "timestamp": "2025-10-10T12:00:00Z",
    "btc": 0.00012345,
    "usd": 1.23,
    "eur": 1.14,
    "cny": 8.95,
    "jpy": 182.4,
    "krw": 1635.2,
    "eth": 0.00023,
    "gbp": 0.98
  }
]
```

Пример ответа 400 (неверный формат времени):

```json
{
  "error": "Invalid 'from' parameter format. Use RFC3339 format (e.g., 2023-01-01T00:00:00Z)"
}
```

Пример ответа 400 (`limit` не положительное число):

```json
{
  "error": "Invalid 'limit' parameter. Must be a positive integer"
}
```

Пример ответа 400 (`from` позже `to`):

```json
{
  "error": "Invalid time range: 'from' must be before 'to'"
}
```

Пример ответа 500:

```json
{
  "error": "Failed to get quotes",
  "details": "<внутренняя ошибка>"
}
```

---

### Получить последнюю котировку

- **Метод**: GET
- **Путь**: `/quotes/last`

Пример запроса:

```bash
curl -s http://localhost:3010/quotes/last
```

Пример ответа 200:

```json
{
  "timestamp": "2025-10-10T12:34:56Z",
  "btc": 0.00012345,
  "usd": 1.23,
  "eur": 1.14,
  "cny": 8.95,
  "jpy": 182.4,
  "krw": 1635.2,
  "eth": 0.00023,
  "gbp": 0.98
}
```

Пример ответа 500:

```json
{
  "error": "Failed to get latest quote",
  "details": "<внутренняя ошибка>"
}
```

---

### Получить количество записей

- **Метод**: GET
- **Путь**: `/quotes/count`

Пример запроса:

```bash
curl -s http://localhost:3010/quotes/count
```

Пример ответа 200:

```json
{
  "count": 12345
}
```

Пример ответа 500:

```json
{
  "error": "Failed to get quotes count",
  "details": "<внутренняя ошибка>"
}
```

---

### Примечания

- **CORS**: включён, разрешает запросы из любых источников (GET/POST/PUT/DELETE/OPTIONS).
- **Формат времени**: используйте RFC3339, пример `2025-10-10T00:00:00Z`.
- **Единицы измерения**: числовые поля валют — дробные числа (float).



